<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="shortcut icon" href="./assets/img/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="./css/game.css">
    <link href="https://fonts.googleapis.com/css?family=Creepster" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
    
    <title>Maze Runner</title>
  </head>

  <body>

    <iframe src="./assets/audio/silence.mp3" allow="autoplay" id="audio-silence" style="display:none"></iframe>

    <audio id="audio" autoplay loop>
      <source src="./assets/audio/ominous.mp3" type="audio/mp3">
    </audio>

    <main class="game-wrapper">
      <section class="game">
        <canvas id='display' width='1' height='1' />
      </section>

      <section class="sidebar">
        <div>
          <div id="about-icon" class="sidebar-icon">
            <i class="fas fa-info-circle"></i>
          </div>
          <div id="settings-icon" class="sidebar-icon">
            <i class="fas fa-cog"></i>
          </div>
          <div>
            <i id="volume-icon" class="fas fa-volume-mute"></i>
          </div>
        </div>

        <div>
          <div>
            <a href="https://www.linkedin.com/in/micah-jaffe">
              <i class="fab fa-linkedin"></i>
            </a>
          </div>
          <div>
            <a href="https://github.com/micah-jaffe">
              <i class="fab fa-github"></i>
            </a>
          </div>
        </div>
      </section>
      
      <script src="./js/bundle.js"></script>
    </main>

    <div id="instructions" class="modal">
      <h1>Welcome to Maze Runner...</h1>

      <p>You've woken up at the beginning of a maze. You have no memory of how it happened. You only know that you need to&nbsp;escape.</p>
      <p>Wait, something's coming back to you... You were studying... graph search algorithms?</p>
      <p>Yes, that's right... Wait, who are these other characters in the maze with you?!</p>
      <p>It can't be... your old nemeses: DFS, BFS, and A*!!! You must try to beat them to the exit!</p>
      <p>Use the arrow keys or WASD to navigate. Select your difficulty below. Change settings by clicking the gear icon.</p>

      <div class="difficulty-wrapper">
        <div class="difficulty-btn btn">Easy</div>
        <div class="difficulty-btn btn">Medium</div>
        <div class="difficulty-btn btn">Hard</div>
      </div>
    </div>

    <div id="about" class="modal hidden">
      <h1>What's going on&nbsp;here?</h1>
      <p>In the ultimate battle of human vs. computer, you are competing against three classic graph search algorithms in race to the end of the maze. They key to victory is to know thy enemy. Therefore, this section will be of the utmost importance to you as you navigate through the&nbsp;maze.</p>
      <h2>DFS</h2>
      <p><i>Depth First Search</i> is the most intuitive way of traversing a maze, and is likely the approach you as a human player will take. In DFS, you follow a single path as far as it will lead until you either hit a dead end or exit the maze, taking care not to revisit areas you've already visited. If you hit a dead end, you must <i>backtrack</i> to the last junction where you could have taken a different path, and then recursively repeat the&nbsp;procedure.</p>
      <p>This implementation of DFS makes a <i>random</i> decision at each junction. This means that on small mazes with few junctions, it may actually perform quite well. However, it will perform asymptotically poorly on larger mazes as the number of possible routes increases. You should expect to beat DFS on any large maze, unless you are very&nbsp;unlucky.</p>
      <h2>BFS</h2>
      <p>While DFS is akin to a human navigating a maze, <i>Breadth First Search</i> can be thought of as a <i>team</i> of humans navigating the maze and communicating with walkie-talkies. Imagine that, at each junction, a pack of explorers splits: one subpack wanders out in each possible direction that has not yet been visited. One by one, these subpacks advance outwards, splitting again at future junctions. The first subpack to reach the goal reports their path back to the entire&nbsp;group.</p>
      <p>This is why BFS appears to be hopping around, as subpacks alternate their moves. You may say: that's not fair! I only get one explorer and BFS gets as many as it wants! True, but remember that BFS will explore <i>all</i> possible paths, even those that are clearly in the wrong direction. So even though it has more explorers, each explorer is quite unintelligent. For this reason, BFS will typically outperform a blind DFS on larger mazes, but may lose to a human, even given its multi-explorer&nbsp;advantages.</p>
      <h2>A*</h2>
      <p>A*, a form of <i>Best First Search</i>, is a hybrid of DFS and BFS. It can be thought of as a team of humans with walkie-talkies and periscopes to see over the maze walls. A* will wander out in packs like BFS, but rather than all packs advancing in turn, only the subpack closest to the goal (as estimated via the periscope) will advance. This approach is similar to that of a human with prior knowledge of the maze, always trying to move in approximately the right&nbsp;direction.</p>
      <p>How is this "periscope" idea implemented? With what's called a <i>heuristic</i>, essentially an educated guess about the distance to the goal without knowing the landscape of unvisited terrain. This implementation uses the popular and simple <i>Manhattan Distance</i> heuristic, which calculates the number of "city blocks" to the goal assuming no obstacles. A* is one of the most powerful graph search algorithms currently known. You are unlikely to beat A* on any large&nbsp;maze.</p>
      <h2>What about Dijkstra'sAlgorithm?</h2>
      <p>It's here, in disguise! This graph is <i>unweighted</i>, meaning that all paths are equally difficult to traverse. Dijkstra's algorithm on an unweighted graph is just BFS! Future versions of this project may include different terrain (tarpits, turbo boosts, etc.) that would change the graph representation of the maze from unweighted to <i>weighted</i>. In this case, Dijkstra's algorithm will be a separate player and will almost certainly outperform&nbsp;BFS.</p>
    </div>

    <div id="settings" class="modal hidden">
      <h2>Change Map</h2>
      <div class="themes-wrapper tiling">
        <div id="ancient-ruins" class="theme-btn tile">
          <img class="settings-tile" src="./assets/img/deathvalley_panorama.jpg">
          <p>Ancient Ruins</p>
        </div>
        <div id="space" class="theme-btn tile">
          <img class="settings-tile" src="./assets/img/space.jpg">
          <p>Galaxia</p>
        </div>
        <div id="underwater" class="theme-btn tile">
          <img class="settings-tile" src="./assets/img/underwater.jpg">
          <p>Ocean's Deep</p>
        </div>
        <div id="mario" class="theme-btn tile">
          <img class="settings-tile" src="./assets/img/mario.jpg">
          <p>World 1-1</p>
        </div>
        <div id="aa" class="theme-btn tile">
          <img class="settings-tile" src="./assets/img/aa_panorama.jpg">
          <p>App Academy</p>
        </div>
      </div>

      <h2>Swap Weapon</h2>
      <div class="weapons-wrapper tiling">
        <div id="knife" class="weapon-btn tile">
          <img class="settings-tile" src="./assets/img/knife_hand.png">
          <p>Knife</p>
        </div>
        <div id="sniper" class="weapon-btn tile">
          <img class="settings-tile" src="./assets/img/sniper.png">
          <p>Sniper</p>
        </div>
        <div id="raygun" class="weapon-btn tile">
          <img class="settings-tile" src="./assets/img/ray_gun.png">
          <p>Ray Gun</p>
        </div>
        <div id="ctci" class="weapon-btn tile">
          <img class="settings-tile" src="./assets/img/ctci.png">
          <p>CTCI</p>
        </div>
      </div>
    </div>

    <div id="game-over" class="modal hidden">
      <h1>You escaped!</h1>

      <p id="player" class="steps">You took 0 steps</p>
      <p id="dfs" class="steps">DFS took 0 steps</p>
      <p id="bfs" class="steps">BFS took 0 steps</p>
      <p id="a*" class="steps">A* took 0 steps</p>

      <a id="play-again-btn" class="btn" href="https://micah-jaffe.github.io/maze-runner/">Play again</a>
    </div>
    
  </body>
</html>